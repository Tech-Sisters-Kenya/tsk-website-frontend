'use client';
import Image from 'next/image';
import CountUp from 'react-countup';
import React from 'react';
import Button from '../../components/Button';
import imageSrc from '@/assets/Rectangle 99.svg';
import bug from '@/assets/Bug.svg';
import Link from 'next/link';

interface ReachSectionProps {
  title: string;
  subtitle: React.ReactNode;
  stats: { value: string; label: React.ReactNode }[];
}

export default function ReachSection({ title, subtitle, stats }: ReachSectionProps) {
  return (
    <section
      data-testid="reach-section"
      aria-label="Our Reach so Far"
      className="bg-tsk-light-2 w-screen py-30 sm:py-32 md:py-34 lg:py-36 px-6 sm:px-8 lg:px-10 overflow-hidden"
    >
      <div className="max-w-7xl mx-auto flex flex-col lg:flex-row items-center py-14 gap-8 lg:gap-12">
        {/*left text section */}
        <div className="flex-1 text-left max-w-lg">
          <h2 className="text-3xl md:text-4xl font-bold text-tsk-primary-dark font-heading mb-6">
            {title}
          </h2>
          <p className="text-tsk-primary-dark text-base md:text-lg font-bold font-body mb-10">
            {subtitle}
          </p>
          {/*horizontal line */}
          <div className="border-t border-tsk-primary-dark w-full max-w-md mx-auto lg:mx-0 mb-6"></div>

          {/* Statistics Section */}
          <div className="grid grid-cols-2 sm:grid-cols-4 gap-4 sm:gap-6 mb-8">
            {stats.map((stat, index) => (
              <div key={index} data-testid={`reach-stat-${index}`} className="text-center mr-4">
                <h3 className="text-2xl md:text-3xl font-bold font-body text-tsk-primary-dark mb-4">
                  <CountUp
                    end={parseInt(stat.value.replace('+', ''))}
                    duration={2}
                    enableScrollSpy
                  />
                  +
                </h3>
                <p className="text-xs sm:text-sm font-bold text-tsk-primary-dark leading-tight">
                  {stat.label}
                </p>
              </div>
            ))}
          </div>

          <Link href="/get-involved" data-testid="reach-cta" className="inline-block">
            <Button
              variant="primary"
              className="font-heading text-tsk-light-1 font-extrabold text-base sm:text-lg mt-14"
            >
              Get Involved
            </Button>
          </Link>
        </div>

        {/* Right Image */}
        <div className="flex-1 flex justify-start items-center">
          <div className="relative w-full max-w-lg sm:max-w-xl md:max-w-2xl lg:max-w-3xl">
            <svg
              className="absolute -top-8 -left-6 "
              width="135"
              height="163"
              viewBox="0 0 135 163"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                d="M34.2957 1C35.3007 1.01161 36.2745 1.36296 37.0583 1.99902L37.2117 2.12891C37.9131 2.75236 38.4009 3.58109 38.6072 4.49707L38.6472 4.69531L38.6482 4.69727L40.0974 12.9434L40.1462 13.166C40.2835 13.6802 40.5711 14.1434 40.9734 14.4941L41.1511 14.6357C41.5781 14.9482 42.0892 15.1266 42.6199 15.1465H42.6208L53.9734 15.5508H53.9783L54.3298 15.5752C55.0296 15.6462 55.7107 15.8446 56.3396 16.1602L56.6501 16.3281L56.6521 16.3291L76.2585 27.7773L76.2673 27.7822L76.5212 27.9238C77.036 28.1898 77.5946 28.3601 78.1697 28.4258L78.4587 28.4492L78.4626 28.4502L85.5906 28.8535H85.5896C86.333 28.8931 87.0681 29.0263 87.7771 29.251L88.0798 29.3535L88.0867 29.3555L93.7869 31.4355H93.7888L94.0037 31.5068C94.509 31.6572 95.042 31.6961 95.5652 31.6191C96.1631 31.5311 96.73 31.2949 97.2146 30.9316L111.612 20.1523C112.399 19.5589 113.345 19.2125 114.329 19.1582L114.698 19.1523C115.556 19.1688 116.397 19.4073 117.138 19.8477H117.139L121.501 22.4238L121.502 22.4248L121.784 22.5791C122.454 22.9169 123.195 23.093 123.947 23.0918H130.099C130.646 23.0882 131.183 23.2392 131.647 23.5273L131.818 23.6426C132.206 23.9234 132.52 24.2966 132.73 24.7295L132.813 24.917C132.966 25.2983 133.037 25.7077 133.021 26.1182L133.006 26.3232C132.946 26.8652 132.734 27.3786 132.396 27.8066L132.398 27.8076L121.697 41.6543L121.661 43.3525L121.475 53.2109L121.474 53.2129L121.373 58.1406H121.374V58.7666L121.373 58.7764L121.259 64.7002L121.232 66.0703V66.0723L121.152 69.7705L121.103 72.335L120.627 96.8154C120.611 97.6244 120.791 98.4233 121.148 99.1445L121.312 99.4482L121.313 99.4502L127.5 110.092L127.598 110.27C128.039 111.107 128.225 112.056 128.134 112.998L128.109 113.199C127.968 114.207 127.514 115.144 126.813 115.876L126.67 116.02L116.598 125.694L116.597 125.695C116.008 126.261 115.313 126.705 114.552 127.003L114.553 127.004L111.062 128.378L111.061 128.379C110.668 128.533 110.309 128.766 110.008 129.062L109.882 129.192C109.557 129.55 109.317 129.978 109.182 130.443L109.183 130.444L108.087 134.293L108.055 134.404L107.999 134.505L93.6375 160.337L93.1091 161.288L92.2058 160.682L84.1892 155.294V155.293L83.9265 155.118L83.9236 155.116L80.4724 152.793V152.792L79.1218 151.885L76.5808 150.183L76.571 150.175L75.0769 149.146V149.146L72.9695 147.729L71.948 147.042V147.041L70.1824 145.859L70.1814 145.858L69.2048 145.202V145.201C69.1116 145.142 69.0231 145.076 68.9382 145.005C67.4643 143.923 66.4265 142.346 66.0134 140.562L66.0125 140.561C65.7062 139.221 65.1319 137.958 64.325 136.848C63.6189 135.876 62.7478 135.04 61.7527 134.376L61.3181 134.102L10.0574 103.507V103.506C9.41962 103.126 8.87894 102.606 8.47632 101.985L8.31128 101.713C7.89676 100.971 7.68453 100.133 7.69604 99.2832L7.76245 94.3438L7.76831 93.9141L8.08472 93.6221C9.39841 92.4102 10.9007 91.4211 12.532 90.6943L13.0115 90.4805L13.4597 90.7549L16.53 92.6309C14.1858 89.4641 12.2849 85.9777 10.8894 82.2676V82.2666C10.0037 79.9291 8.64503 76.1751 8.05347 72.3809L8.03979 72.2979L8.04077 72.2139L8.12085 66.1797L8.20874 59.1875L8.20972 59.1748V59.1631L8.22144 59.0117C8.26171 58.6606 8.39564 58.3257 8.61108 58.043L8.70776 57.9258C8.94335 57.6617 9.2468 57.4657 9.58667 57.3594L9.59155 57.3574L17.6658 54.8799L16.7078 53.3154V53.3145C16.5608 53.0746 16.4708 52.8044 16.4441 52.5244C16.4173 52.2436 16.455 51.9603 16.5544 51.6963L16.6394 51.5039C16.7357 51.3164 16.8638 51.146 17.0183 51.001L17.1804 50.8652C17.3495 50.7396 17.5394 50.6438 17.7419 50.582L17.7458 50.5801L20.4128 49.7793L14.6267 45.1113L14.614 45.1016L14.6023 45.0918C14.3493 44.8743 14.1637 44.5891 14.0662 44.2705C13.9687 43.9518 13.963 43.6116 14.0505 43.29L14.0876 43.1709C14.1836 42.8968 14.3458 42.6493 14.5613 42.4521L14.657 42.3721C14.8849 42.1915 15.1543 42.0696 15.4421 42.0186L15.4529 42.0166L15.4646 42.0146L19.5408 41.3857L10.4382 24.9053L10.3376 24.7158C9.85832 23.7608 9.68576 22.6785 9.84546 21.6182C10.0159 20.487 10.5555 19.4436 11.3806 18.6523L28.2117 2.46484C29.0661 1.63715 30.1954 1.15526 31.3835 1.11035V1.10938L34.0886 1.00293H34.0945L34.2957 1Z"
                fill="#FFBAFF"
                stroke="white"
                strokeWidth="2"
              />
              <path
                d="M85.8344 119.746C82.8693 119.746 80.4653 116.93 80.4653 113.463C80.4653 109.996 82.8693 107.185 85.8344 107.185C88.7996 107.185 91.1991 109.996 91.1991 113.463C91.1991 116.93 88.7951 119.746 85.8344 119.746Z"
                fill="#70169E"
              />
              <path
                d="M0.145675 50.1504C1.82931 39.6597 16.1469 26.9386 23.067 21.1213C26.2089 18.4831 28.8117 16.439 30.3407 15.2551C30.5396 14.9492 31.0257 14.1555 30.734 13.6678C30.5838 13.415 30.1463 13.118 28.5996 13.3485C22.413 14.2797 15.7845 18.6693 15.7845 18.6693C13.575 20.1414 10.7071 22.1322 7.47238 24.6507C8.78482 22.0302 14.7151 10.8699 28.0605 6.05908C45.9663 -0.374609 61.3488 10.3556 62.7585 11.371C59.1472 12.5414 55.6061 13.9197 52.1529 15.499C47.292 17.716 41.0126 21.0769 41.2733 21.7065C41.5694 22.4116 50.1113 19.259 64.4996 16.3858C70.7392 15.1443 75.8653 14.3949 79.4933 17.2726C79.997 17.6716 82.4452 19.6137 82.4319 22.2874C82.4319 24.5709 80.6201 26.2514 79.7805 27.0096C74.6898 31.6386 72.1312 33.9576 62.7585 39.0966C58.4367 41.4643 52.5595 45.548 46.5894 52.9616C55.5946 49.214 64.2513 44.6736 72.4582 39.3936C78.7023 35.3543 85.0833 30.5878 90.0989 32.9023C92.5912 34.0551 93.665 36.4495 93.9213 37.0348C96.0601 41.8368 93.7313 48.5631 87.7347 53.5513C91.2257 51.9019 95.0747 52.2522 97.4565 54.4381C99.666 56.4999 99.7809 59.4529 99.8074 60.3353C99.9621 65.2481 96.2501 68.4317 95.6933 68.8928C95.5652 69.4559 95.468 70.223 95.8568 70.5423C96.449 71.03 97.6244 70.059 99.2816 69.6289C101.129 69.1456 103.515 69.3584 104.991 70.427C106.975 71.8725 107.642 75.1181 106.701 78.4436C106.89 79.032 107.119 79.6068 107.386 80.164C108.672 82.8244 110.002 83.2678 110.921 84.7443C111.84 86.2208 111.487 89.2093 110.691 95.0532C110.303 97.9043 110.09 98.4452 110.351 99.6335C110.793 101.686 112.119 103.243 113.511 104.373C114.371 105.089 115.082 105.969 115.601 106.963C115.733 107.992 115.433 108.399 115.256 108.564C115.079 108.728 114.863 108.852 113.316 108.909C112.048 108.958 111.717 108.874 111.491 109.136C111.355 109.365 111.292 109.632 111.313 109.899C111.333 110.166 111.436 110.419 111.606 110.625C112.282 111.486 113.701 110.838 114.231 111.658C114.335 111.852 114.389 112.068 114.389 112.288C114.389 112.508 114.335 112.724 114.231 112.918C113.922 113.543 112.905 113.024 111.946 113.72C111.787 113.836 111.31 114.164 111.381 114.478C111.509 115.042 113.497 114.789 113.63 115.365C113.714 115.711 113.056 116.137 112.958 116.199C112.384 116.576 111.946 116.478 111.456 116.642C110.532 116.939 110.077 117.919 109.878 118.345C109.22 119.733 109.931 120.42 109.392 121.715C109.017 122.535 108.377 123.205 107.576 123.617C105.504 124.681 102.945 123.4 101.487 122.668C99.613 121.724 99.6218 121.183 98.0089 120.526C96.8675 120.067 95.6504 119.826 94.4207 119.817C94.6955 118.789 94.8351 117.729 94.836 116.664C94.836 110.851 90.8103 106.138 85.8434 106.138C80.8764 106.138 76.8463 110.851 76.8463 116.664C76.8463 122.477 80.872 127.199 85.8434 127.199C86.1669 127.199 86.4901 127.178 86.8111 127.137C86.1792 128.667 85.6799 130.184 85.2822 131.39C83.5146 136.803 81.5393 142.794 84.0183 149.791C85.4955 153.831 88.0702 157.376 91.4511 160.024H56.9829C60.5923 153.52 63.7049 146.751 66.2937 139.774C72.4317 123.315 73.0857 117.564 73.0946 115.268C73.0778 109.569 71.9223 103.932 69.6963 98.6891C68.2239 99.2138 66.7181 99.6389 65.189 99.9616C61.6051 100.715 59.7978 101.097 57.7606 100.436C54.7557 99.465 51.8922 96.4455 52.3032 94.1709C52.6213 92.4328 54.7955 91.4351 54.358 90.3621C54.1724 89.9187 53.6156 89.7014 53.2532 89.5684C52.3409 89.2953 51.362 89.3518 50.4869 89.7281C47.364 90.8479 44.1672 91.7487 40.9198 92.4239C39.382 92.7077 34.499 93.59 32.0818 90.9164C30.1109 88.757 30.3451 84.9172 31.6045 82.2568C33.6373 77.978 37.7911 78.0534 44.9632 74.3244C50.4207 71.4911 49.7843 70.5334 61.3135 61.8739C64.4068 59.5593 69.0865 56.1452 75.0698 52.1945C70.1874 54.1036 65.4109 56.275 60.7611 58.6991C53.7747 62.3439 48.3084 65.1949 42.029 70.2807C37.2078 74.1781 31.7106 77.242 27.1679 81.4631C26.2222 82.3499 24.0171 84.4428 21.3171 84.159C20.3402 84.0222 19.4115 83.6471 18.6126 83.0666C17.8137 82.4861 17.1689 81.7178 16.7346 80.8291C15.6343 78.5589 16.3811 76.0493 17.0484 74.3244C22.93 59.2002 40.2967 43.2379 40.2967 43.2379C44.0882 39.7617 49.4838 34.973 56.267 29.5192C53.2361 29.9139 50.246 30.5771 47.3318 31.5012C37.1195 34.738 30.0977 40.5021 26.1515 43.7921C20.915 48.1773 14.7858 51.6624 10.4199 56.8945C9.75659 57.7377 8.84368 58.3479 7.81264 58.6371C5.28497 59.2667 2.11213 57.502 0.777592 54.9879C0.0428243 53.4889 -0.179264 51.7888 0.145675 50.1504Z"
                fill="#70169E"
              />
              <path
                d="M73.8767 148.124L67.6901 150.341L66.603 149.055L69.7847 143.269L70.832 144.506L67.8801 149.653L67.2968 148.962L72.8338 146.904L73.8767 148.124Z"
                fill="#FFBAFF"
              />
              <path
                d="M75.8608 149.906L71.2341 137.815L72.6084 136.648L77.2307 148.74L75.8608 149.906Z"
                fill="#FFBAFF"
              />
              <path
                d="M78.9586 143.8L77.9113 142.558L80.8411 137.411L81.4244 138.107L75.8874 140.164L74.8445 138.927L81.0532 136.71L82.1403 137.996L78.9586 143.8Z"
                fill="#FFBAFF"
              />
            </svg>

            <Image
              src={bug}
              alt="image"
              data-testid="reach-image-bug"
              width={60}
              height={40}
              className="absolute -bottom-4 -left-6 w-18 h-18 z-10"
            />
            <Image
              src={imageSrc}
              alt="image"
              width={700}
              height={560}
              className="rounded-lg shadow-lg"
            />
          </div>
        </div>
      </div>
    </section>
  );
}
